# CEMS - 청명기연환경 장비 통합 관리 시스템

## 개요
CEMS는 (주)청명기연환경의 장비를 통합적으로 관리하는 웹 기반 시스템입니다. 장비 현황 모니터링, 알람 관리, 원격 제어, 리포트 생성 등의 기능을 제공합니다.

## 주요 기능

### 1. 대시보드
- **KPI 카드**: 총 장비 수, 가동률, 월간 수리 건수, 고장 예측
- **트렌드 차트**: 품목별 수리 빈도, 월별 수리 비용 추이
- **실시간 모니터링**: 장비 상태 및 운영 현황을 한눈에 파악

### 2. 장비 관리
- **장비 목록**: 시리얼 번호, 품목 계열, 모델명, 상태, 위치, 가동률 표시
- **상태 토글**: 사용중/대기중/수리중/점검필요 상태 관리
- **제어 버튼**: 시작/정지/열림/닫힘 명령으로 장비 원격 제어
- **검색 및 필터링**: S/N, 모델명, 품목 계열별 검색
- **엑셀 업로드**: 청명장비 엑셀 데이터 자동 임포트

### 3. 알람 관리
- **알람 리스트**: 정도검사 임박, 장기간 입고, 가동 저하 등 다양한 알람 유형
- **필터링**: 알람 유형, 상태별 필터링
- **확인(ACK) 토글**: 미확인/확인됨/처리중 상태 관리
- **우선순위 관리**: 높음/보통/낮음 우선순위 설정

### 4. 제어 패널
- **장비 선택**: 제어할 장비 선택
- **명령 전송**: 시작, 정지, 열림, 닫힘 명령 전송
- **스케줄 관리**: 장비별 자동 실행 스케줄 등록/삭제
- **명령 로그**: 전송된 명령과 응답 결과 기록

### 5. 리포트
- **리포트 생성**: 주간/월간/분기별 다양한 리포트 유형
- **데이터 내보내기**: CSV, Excel, PDF 형식으로 데이터 내보내기
- **생성된 리포트**: 다운로드 및 관리

### 6. API 테스트
- **이슈 등록 API**: 버그, 기능 요청, 개선 사항 등록
- **외부 연동 API**: 이카운트, 재고 관리, 정비 관리 API 테스트
- **API 호출 이력**: 성공/실패 상태 및 응답 시간 모니터링

### 7. 설정
- **테마 설정**: 화이트/블루, 다크, 라이트 테마 선택
- **레이아웃**: 사이드바/탑바 레이아웃 선택
- **사이트 설정**: 사이트명, 회사명, 시간대 설정
- **데이터 관리**: 설정 내보내기/가져오기/초기화

## 사용법

### 기본 네비게이션
1. **사이드바 메뉴**: 좌측 사이드바에서 원하는 기능 선택
2. **반응형 레이아웃**: 모바일에서는 아이콘만 표시, 데스크톱에서는 메뉴명도 표시

### 장비 관리
1. **장비 조회**: 장비 관리 메뉴에서 전체 장비 목록 확인
2. **상태 변경**: 상태 컬럼의 드롭다운에서 상태 선택
3. **원격 제어**: 제어 컬럼의 버튼으로 장비 제어
4. **상세 정보**: 상세보기 버튼으로 수리 이력, 이동 이력 확인

### 알람 처리
1. **알람 확인**: 알람 관리 메뉴에서 발생한 알람 목록 확인
2. **우선순위 확인**: 빨간색(높음), 노란색(보통), 초록색(낮음) 우선순위
3. **상태 변경**: 확인/처리 버튼으로 알람 상태 업데이트
4. **필터링**: 알람 유형과 상태별로 필터링하여 효율적 관리

### 리포트 생성
1. **리포트 유형 선택**: 장비 현황, 수리 요약, 비용 분석, 이동 로그 중 선택
2. **기간 설정**: 주간/월간/분기별 보고 기간 설정
3. **생성 및 다운로드**: 리포트 생성 후 다운로드하여 활용

### 설정 관리
1. **테마 변경**: 원하는 색상 테마 선택
2. **설정 저장**: 변경된 설정을 로컬에 저장
3. **설정 백업**: 설정을 JSON 파일로 내보내기/가져오기

## 데이터 소스

### 청명장비 엑셀 데이터
- **장비 목록**: `serials.csv` - 장비 시리얼 번호 및 품목 계열
- **운영 로그**: `logs.csv` - 장비별 일일 운영 데이터
- **재고 현황**: `장비재고현황.xlsx` - 현재 재고 상태
- **이동 현황**: `6개월 장비 이동 현황.xlsx` - 장비 입출고 이력

### 지원 장비 유형
- **가스 분석기**: MP-가스30KN, SO2 Serinus50i
- **미세먼지 측정기**: PM-2.5 PMS-204, KMS-4200, E-BAM, BAM 1020
- **PM-10 측정기**: PMS-204, KMS-4200

## 기술 스택

- **프론트엔드**: HTML5, CSS3, JavaScript (ES6+)
- **UI 프레임워크**: Tailwind CSS
- **차트 라이브러리**: Chart.js
- **엑셀 처리**: SheetJS (XLSX)
- **반응형 디자인**: 모바일/태블릿/데스크톱 지원
- **로컬 스토리지**: 브라우저 로컬 스토리지 활용

## 브라우저 지원

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### 역할 분리와 협업 규칙

- **역할 문서**: 역할별 소유권/충돌 방지 규칙은 `AGENT-ROLES.md`를 참고하세요.
- **변경 원칙**: 소유 파일만 수정, 파괴적 스키마 변경 금지, 확장은 새 파일(`*_v2.json` 또는 역할 접두사)로 진행합니다.
- **데이터 계약**: 프론트는 `db/*.json`을 우선 사용하고, 부재 시 원천 파일 파싱으로 폴백합니다.

### 데이터 빌드 규칙 (03-build-db)

- **실행 명령**: `npm run build:db`
- **입력 경로**: `C:/Users/User/Desktop/cmes 데모/청명장비 엑셀`
- **출력 경로(백업)**: `C:/Users/User/Desktop/cmes 데모/개발현황자료전달`
- **출력 경로(프론트소스)**: `db/`
- **인코딩**: CSV는 UTF-8 실패 시 EUC-KR/CP949 자동 대체
- **조인 키**: `일련번호`
- **이동 규칙**: `출고창고명`→`입고창고명` 기반 현위치/상태 추론
- **수리 규칙**: 비고/입고처/업체에서 수리 여부 탐지, 비용 합산

## 시작하기

1. `index.html` 파일을 웹 브라우저에서 열기
2. 사이드바에서 원하는 기능 선택
3. 각 기능별 사용법에 따라 시스템 활용

## 주의사항

- 이 시스템은 데모 목적으로 제작되었습니다
- 실제 운영 환경에서는 백엔드 연동이 필요합니다
- 장비 제어 기능은 시뮬레이션으로 동작합니다
- 데이터는 브라우저 로컬 스토리지에 저장됩니다

## 문의사항

시스템 사용 중 문의사항이 있으시면 개발팀에 연락해 주시기 바랍니다.
